{"version":3,"sources":["assets\\scripts\\Grid.js"],"names":["cc","Class","Component","onLoad","node","on","repaint","self","flag","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","Sprite","start","hasPiece","num","piece"],"mappings":";;;;;;AAAA;;;;;;;;;;;AAYAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;;AAGL;;;AAGAC,EAAAA,MANK,oBAMK;AACN,SAAKC,IAAL,CAAUC,EAAV,CAAa,cAAb,EAA6B,YAAY;AACrC,WAAKC,OAAL;AACH,KAFD,EAEG,IAFH;AAGH,GAVI;;AAaL;;;AAGAA,EAAAA,OAAO,EAAE,mBAAW;AAChB,QAAIC,IAAI,GAAG,IAAX;;AAEA,YAAQ,KAAKH,IAAL,CAAUI,IAAlB;AACI,WAAK,CAAL;AACIR,QAAAA,EAAE,CAACS,MAAH,CAAUC,OAAV,CAAkB,WAAlB,EAA+BV,EAAE,CAACW,WAAlC,EAA+C,UAAUC,GAAV,EAAeC,WAAf,EAA4B;AACvEN,UAAAA,IAAI,CAACH,IAAL,CAAUU,YAAV,CAAuBd,EAAE,CAACe,MAA1B,EAAkCF,WAAlC,GAAgDA,WAAhD;AACH,SAFD;AAGA;;AACJ,WAAK,CAAL;AACIb,QAAAA,EAAE,CAACS,MAAH,CAAUC,OAAV,CAAkB,YAAlB,EAAgCV,EAAE,CAACW,WAAnC,EAAgD,UAAUC,GAAV,EAAeC,WAAf,EAA4B;AACxEN,UAAAA,IAAI,CAACH,IAAL,CAAUU,YAAV,CAAuBd,EAAE,CAACe,MAA1B,EAAkCF,WAAlC,GAAgDA,WAAhD;AACH,SAFD;AAGA;AAVR;AAaH,GAhCI;AAkCLG,EAAAA,KAlCK,mBAkCI;AACL,SAAKR,IAAL,GAAY,IAAZ;AAEA,SAAKS,QAAL,GAAgB,KAAhB;AAEA,SAAKC,GAAL,GAAW,CAAX;AAEA,SAAKC,KAAL,GAAa,IAAb;AACH;AA1CI,CAAT","sourceRoot":"/","sourcesContent":["/**\n * 组成棋盘的格子\n * \n * @property {Number} flag  标识棋子的状态, 0为墙, 1为路, 2为灯\n * \n * @property {Boolean} hasPiece 标识该格子上是否有棋子, 0为无, 1为有\n * \n * @property {Number} num  照亮该格子的棋子的个数\n * \n * @property {Piece} piece 位于格子上的棋子, 没有则为null\n */\n\ncc.Class({\n    extends: cc.Component,\n\n    /**\n     * 当某个格子收到状态更改事件, 自动调用repaint方法\n     */\n    onLoad () {        \n        this.node.on(\"flag_changed\", function () {\n            this.repaint();\n        }, this);\n    },\n    \n    \n    /**\n     * 更换棋子背景\n     */\n    repaint: function() {\n        var self = this;\n\n        switch (this.node.flag) {\n            case 1:\n                cc.loader.loadRes(\"grid/path\", cc.SpriteFrame, function (err, spriteFrame) {\n                    self.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                });\n                break;\n            case 2:\n                cc.loader.loadRes(\"grid/light\", cc.SpriteFrame, function (err, spriteFrame) {\n                    self.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                });\n                break;\n        }\n\n    },\n\n    start () {\n        this.flag = null;\n\n        this.hasPiece = false;\n\n        this.num = 0;\n\n        this.piece = null;\n    },\n\n});\n"]}