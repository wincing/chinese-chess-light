{"version":3,"sources":["assets\\scripts\\Skip.js"],"names":["cc","Class","Component","skipTo","event","customEventData","director","loadScene","nextPass","canvas","find","level","getComponents","index","stopAllActions","loadTutorial","show","name","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","Sprite","hide","active","appear","share","data","wx","shareAppMessage","title","imageUrl","url","success","res","console","log","fail"],"mappings":";;;;;;AAAA;;;AAGAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;;AAGL;;;;;AAKAC,EAAAA,MARK,kBAQEC,KARF,EAQSC,eART,EAQ0B;AAC3BL,IAAAA,EAAE,CAACM,QAAH,CAAYC,SAAZ,CAAsBF,eAAtB;AACH,GAVI;;AAYL;;;AAGAG,EAAAA,QAfK,sBAeM;AACP,QAAIC,MAAM,GAAGT,EAAE,CAACU,IAAH,CAAQ,QAAR,CAAb;AACA,QAAIC,KAAK,GAAGF,MAAM,CAACG,aAAP,CAAqBZ,EAAE,CAACE,SAAxB,EAAmC,CAAnC,EAAsCW,KAAlD;AACAJ,IAAAA,MAAM,CAACK,cAAP;AACAH,IAAAA,KAAK,IAAI,CAAT;;AACA,QAAGA,KAAK,GAAG,EAAX,EAAe;AACXX,MAAAA,EAAE,CAACM,QAAH,CAAYC,SAAZ,CAAsB,OAAtB;AACH,KAFD,MAEO;AACHP,MAAAA,EAAE,CAACM,QAAH,CAAYC,SAAZ,CAAsB,UAAUI,KAAhC;AACH;AACJ,GAzBI;;AA2BL;;;;;AAKAI,EAAAA,YAhCK,wBAgCQX,KAhCR,EAgCeC,eAhCf,EAgCgC;AACjC,QAAIW,IAAI,GAAGhB,EAAE,CAACU,IAAH,CAAQ,aAAR,CAAX;AACA,QAAIO,IAAI,GAAG,cAAcZ,eAAzB;AACAL,IAAAA,EAAE,CAACkB,MAAH,CAAUC,OAAV,CAAkBF,IAAlB,EAAwBjB,EAAE,CAACoB,WAA3B,EAAwC,UAAUC,GAAV,EAAeC,WAAf,EAA4B;AAChEN,MAAAA,IAAI,CAACO,YAAL,CAAkBvB,EAAE,CAACwB,MAArB,EAA6BF,WAA7B,GAA2CA,WAA3C;AACH,KAFD;AAGH,GAtCI;;AAwCL;;;AAGAG,EAAAA,IA3CK,kBA2CE;AACHzB,IAAAA,EAAE,CAACU,IAAH,CAAQ,YAAR,EAAsBgB,MAAtB,GAA+B,KAA/B;AACH,GA7CI;;AA+CL;;;AAGAC,EAAAA,MAlDK,oBAkDI;AACL3B,IAAAA,EAAE,CAACU,IAAH,CAAQ,YAAR,EAAsBgB,MAAtB,GAA+B,IAA/B;AACH,GApDI;;AAsDL;;;AAGAE,EAAAA,KAzDK,mBAyDG;AACJ5B,IAAAA,EAAE,CAACkB,MAAH,CAAUC,OAAV,CAAkB,OAAlB,EAA2B,UAAUE,GAAV,EAAeQ,IAAf,EAAqB;AAC5CC,MAAAA,EAAE,CAACC,eAAH,CAAmB;AACfC,QAAAA,KAAK,EAAE,YADQ;AAEfC,QAAAA,QAAQ,EAAEJ,IAAI,CAACK,GAFA;AAGfC,QAAAA,OAHe,mBAGPC,GAHO,EAGF;AACTC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,SALc;AAMfG,QAAAA,IANe,gBAMVH,GANU,EAML;AACNC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH;AARc,OAAnB;AAUH,KAXD;AAYH;AAtEI,CAAT","sourceRoot":"/","sourcesContent":["/**\r\n * 控制场景切换事件的类\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    /**\r\n     * 场景跳转\r\n     * @param {*} event \r\n     * @param {String} customEventData 所要跳转至的场景名称\r\n     */\r\n    skipTo(event, customEventData) {\r\n        cc.director.loadScene(customEventData);\r\n    },\r\n\r\n    /**\r\n     * 跳转到当前关卡的下一关\r\n     */\r\n    nextPass() {\r\n        var canvas = cc.find('Canvas');\r\n        var level = canvas.getComponents(cc.Component)[1].index;\r\n        canvas.stopAllActions();\r\n        level += 1;\r\n        if(level > 45) {\r\n            cc.director.loadScene(\"Start\"); \r\n        } else {\r\n            cc.director.loadScene(\"Level\" + level);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 按钮显示对应的指引\r\n     * @param {*} event \r\n     * @param {String} customEventData 需要加载的教程资源名\r\n     */\r\n    loadTutorial(event, customEventData) {\r\n        var show = cc.find('Canvas/Show');\r\n        var name = 'tutorial/' + customEventData;\r\n        cc.loader.loadRes(name, cc.SpriteFrame, function (err, spriteFrame) {\r\n            show.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * 隐藏提示\r\n     */\r\n    hide() {\r\n        cc.find('Canvas/Tip').active = false;\r\n    },\r\n\r\n    /**\r\n     * 显示提示\r\n     */\r\n    appear() {\r\n        cc.find('Canvas/Tip').active = true;\r\n    },\r\n\r\n    /**\r\n     * 主动分享\r\n     */\r\n    share() {\r\n        cc.loader.loadRes(\"share\", function (err, data) {\r\n            wx.shareAppMessage({\r\n                title: \"生于黑暗，始见光明。\",\r\n                imageUrl: data.url,\r\n                success(res) {\r\n                    console.log(res)\r\n                },\r\n                fail(res) {\r\n                    console.log(res)\r\n                }\r\n            })\r\n        });\r\n    },\r\n\r\n});\r\n"]}